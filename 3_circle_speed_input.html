<!DOCTYPE html>
<html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2014 by anonymous (http://jsbin.com/sugakefe/1/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<head>
  <title>JS Bin</title>

<style id="jsbin-css">
#circle {
  background-color:blue;
  width: 100px;
  height: 100px;
  border-radius: 50%;
}
#input {
  margin-top: 40px;
}
</style>
</head>
  <body>
    <div id='circle'></div>
    <div id='input'>
      Insert Circle Speed: <input type="number" name="circleSpeed"/>
      <input type="button" id="button1" value="submit"/>
     </div>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <script>
function animatethis(targetElement, speed) {
    $(targetElement).animate({ marginLeft: "+=" + (window.innerWidth-110) + "px"},
    {
        duration: speed,
        complete: function ()
        {
            targetElement.animate({ marginLeft: "-=" + (window.innerWidth-110) + "px" },
            {
                duration: speed,
                complete: function ()
                {
                    animatethis(targetElement, speed);
                }
            });
        }
    });
};

var speed = 5000;



$(document).ready(function(){
  animatethis($('#circle'), speed);
  $('#button1').click(function(){    
    $('#circle').stop();    
    speed = 5000/$('input[name=circleSpeed]').val();
    $('#circle').css('margin-left','0px');
    animatethis($('#circle'), speed);
  });
});
</script>
</body>
</html>
  